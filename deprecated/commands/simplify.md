---
description: Simplify an overly complex proposal through dialog with the user
---

The user input to you can be provided directly by the agent or as a command argument - you **MUST** consider it before proceeding with the prompt (if not empty).

User input: $ARGUMENTS

# Proposal Simplification Command

## Purpose

Proposals generated by the proposal-writer agent are comprehensive and thorough, which is excellent for new projects. However, for simple feature additions or small changes, these proposals can create unnecessary work and cruft. This command helps streamline proposals to their bare essentials through interactive dialog.

## Process

### Step 1: Locate the Proposal

If the user provided a proposal file path in $ARGUMENTS, use that. Otherwise:
1. List all files in the `proposals/` directory
2. If there's only one proposal, use it
3. If there are multiple proposals, ask the user which one to simplify
4. If no proposals directory exists, inform the user and ask for the proposal file path

### Step 2: Analyze the Proposal

Read the proposal and identify:
- Core requirements vs. nice-to-have features
- Essential implementation steps vs. optional enhancements
- Required infrastructure vs. over-engineering
- Minimal viable implementation vs. production-ready solution
- Testing strategy: what's essential vs. comprehensive coverage
- Documentation: what's necessary vs. exhaustive

### Step 3: Dialog with User

Engage the user to understand their true needs:

1. **Summarize the proposal scope**: Briefly describe what the proposal aims to accomplish
2. **Present the complexity**: Highlight major components, infrastructure requirements, and estimated effort
3. **Ask clarifying questions**:
   - Is this for a new project or adding to an existing codebase?
   - What's the actual use case or problem you're solving?
   - What's your timeline? (Quick prototype vs. production-ready)
   - What infrastructure already exists that we can leverage?
   - What can be deferred or omitted entirely?
   - Are all the testing requirements necessary for your context?
   - Do you need all the proposed documentation?

4. **Identify reduction opportunities**:
   - Can we use existing libraries instead of custom implementations?
   - Can we skip certain architectural patterns for simplicity?
   - Can we reduce the number of components or layers?
   - Can we simplify the deployment strategy?
   - Can we reduce test coverage requirements?
   - Can we simplify monitoring/observability?
   - Can we defer non-critical features to later?

### Step 4: Create Simplified Proposal

Based on the user's feedback, create a simplified version of the proposal that:
- Focuses on the minimal viable implementation
- Removes unnecessary abstraction layers
- Reduces infrastructure complexity where possible
- Simplifies testing to essential coverage
- Streamlines documentation to what's needed
- Identifies what can be added later if needed
- Maintains a clear path to the original comprehensive approach if the user needs it later

Save the simplified proposal as: `proposals/[original-name]-simplified.md`

Include a section at the end titled "Deferred Features" that lists what was removed and why, so the user can revisit if needed.

### Step 5: Present Changes

Provide the user with:
1. Path to the simplified proposal
2. Summary of key simplifications made
3. Estimated effort reduction
4. What was deferred and why
5. Risks or trade-offs of the simplified approach

## Example Dialog Flow

**Assistant**: I've analyzed the proposal for adding user authentication. The current proposal includes:
- Custom OAuth2 server implementation
- Redis-based session management
- Comprehensive audit logging
- Role-based access control with 5 permission levels
- Password complexity requirements with breach checking
- MFA support with multiple providers
- Account recovery workflows

This is a comprehensive enterprise-grade auth system. Can you help me understand:
- Are you adding this to an existing app or building from scratch?
- Do you need all the OAuth2 features or just basic login?
- What's your primary use case?

**User**: I just need basic email/password login for a small internal tool with maybe 10 users.

**Assistant**: Got it. We can dramatically simplify this. How about:
- Simple email/password auth with secure password hashing
- Session cookies (no Redis needed for 10 users)
- Basic "forgot password" via email
- Single admin role and regular user role
- Skip OAuth2, MFA, breach checking for now

We can always add those later if needed. Does this sound more appropriate?

**User**: Perfect, that's all I need.

**Assistant**: I'll create a simplified proposal that focuses on this minimal implementation. The comprehensive features will be documented in a "Deferred Features" section if you need them later.

## Notes

- Always be respectful of the original proposal's thoroughness
- Help the user understand trade-offs of simplification
- Don't eliminate security best practices unless the user explicitly accepts the risk
- Keep the original proposal intact; create a new simplified version
- Document what was removed so it's not lost forever
